diff --git a/viewer/app.py b/viewer/app.py
index 14522f819eb9e82d991829a2d4e9a97554fdf92c..03477d8236dc3578e82853cd64d10aa63a639f4c 100644
--- a/viewer/app.py
+++ b/viewer/app.py
@@ -89,87 +89,96 @@ class ViewerWindow(QtWidgets.QMainWindow):
         self._log_entries = []
         self._current_turn_number = None
         self._log_tail_snapshot = None
         self._log_tabs = {}
         self._log_tab_defs = [
             ("all", "Все"),
             ("turn", "Ход"),
             ("shooting", "Стрельба"),
             ("fight", "Ближний бой"),
             ("dice", "Кубы"),
             ("errors", "Ошибки"),
         ]
         self._max_log_lines = 5000
         self._log_file_path = os.path.join(ROOT_DIR, "LOGS_FOR_AGENTS.md")
         self._log_file_max_bytes = 5 * 1024 * 1024
         self._init_log_viewer()
 
         fit_button = QtWidgets.QPushButton("Fit")
         fit_button.clicked.connect(self._fit_view)
 
         left_widget = QtWidgets.QWidget()
         left_layout = QtWidgets.QVBoxLayout(left_widget)
         left_layout.addWidget(fit_button, alignment=QtCore.Qt.AlignLeft)
         left_layout.addWidget(self.map_view)
 
-        right_widget = QtWidgets.QWidget()
-        right_layout = QtWidgets.QVBoxLayout(right_widget)
-        right_layout.addWidget(self._group_status())
-        right_layout.addWidget(self._group_points())
-        right_layout.addWidget(self._group_units())
-        right_layout.addWidget(self._group_legend())
-        right_layout.addStretch()
-
-        splitter = QtWidgets.QSplitter(QtCore.Qt.Horizontal)
-        splitter.addWidget(left_widget)
-        splitter.addWidget(right_widget)
-        splitter.setStretchFactor(0, 3)
-        splitter.setStretchFactor(1, 1)
-
         log_group = QtWidgets.QGroupBox("ЖУРНАЛ")
         log_layout = QtWidgets.QVBoxLayout(log_group)
         log_layout.addLayout(self._log_controls_layout)
         log_layout.addWidget(self.log_tabs)
+        log_group.setSizePolicy(
+            QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding
+        )
 
         command_group = QtWidgets.QGroupBox("КОМАНДЫ")
         command_layout = QtWidgets.QVBoxLayout(command_group)
         self.command_prompt = QtWidgets.QLabel("Ожидаю команду...")
         self.command_prompt.setWordWrap(True)
         command_layout.addWidget(self.command_prompt)
         self.command_hint = QtWidgets.QLabel("Горячие клавиши: —")
         self.command_hint.setStyleSheet(f"color: {Theme.muted.name()};")
         command_layout.addWidget(self.command_hint)
 
         self.command_stack = QtWidgets.QStackedWidget()
         self._build_command_pages()
         command_layout.addWidget(self.command_stack)
 
+        right_widget = QtWidgets.QWidget()
+        right_layout = QtWidgets.QVBoxLayout(right_widget)
+        right_layout.setSpacing(8)
+        right_layout.addWidget(self._group_status())
+        right_layout.addWidget(self._group_points())
+        right_layout.addWidget(self._group_units())
+        right_layout.addWidget(self._group_legend())
+        right_layout.addWidget(command_group)
+        right_layout.addStretch()
+
+        top_splitter = QtWidgets.QSplitter(QtCore.Qt.Horizontal)
+        top_splitter.addWidget(left_widget)
+        top_splitter.addWidget(right_widget)
+        top_splitter.setStretchFactor(0, 4)
+        top_splitter.setStretchFactor(1, 1)
+
+        main_splitter = QtWidgets.QSplitter(QtCore.Qt.Vertical)
+        main_splitter.addWidget(top_splitter)
+        main_splitter.addWidget(log_group)
+        main_splitter.setStretchFactor(0, 3)
+        main_splitter.setStretchFactor(1, 2)
+
         central = QtWidgets.QWidget()
         central_layout = QtWidgets.QVBoxLayout(central)
-        central_layout.addWidget(splitter, stretch=3)
-        central_layout.addWidget(log_group, stretch=1)
-        central_layout.addWidget(command_group, stretch=0)
+        central_layout.addWidget(main_splitter)
         self.setCentralWidget(central)
 
         self._apply_dark_theme()
         self._build_toolbar()
         self._fit_view()
         app = QtWidgets.QApplication.instance()
         if app is not None:
             app.installEventFilter(self)
 
         self.timer = QtCore.QTimer(self)
         self.timer.setInterval(300)
         self.timer.timeout.connect(self._poll_state)
         self.timer.start()
 
         self._poll_state()
         QtCore.QTimer.singleShot(0, self._start_controller)
 
     def _build_toolbar(self):
         toolbar = self.addToolBar("Вид")
         toolbar.setMovable(False)
         self.toggle_objective_radius = QtGui.QAction("Показать радиус целей", self)
         self.toggle_objective_radius.setCheckable(True)
         self.toggle_objective_radius.setChecked(True)
         self.toggle_objective_radius.toggled.connect(self._toggle_objective_radius)
         toolbar.addAction(self.toggle_objective_radius)

