 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/gui_qt/main.py b/gui_qt/main.py
index 8f59382a6d03f8173c58ede963158642c36d3a95..d25c20530f18cd8d9572079d0645933a00aa85b5 100644
--- a/gui_qt/main.py
+++ b/gui_qt/main.py
@@ -390,50 +390,52 @@ class GUIController(QtCore.QObject):
         script = os.path.join(self._repo_root, "launch_terminal_manual.sh")
         if not os.path.exists(script):
             self._emit_status("Не найден launch_terminal_manual.sh. Проверьте репозиторий.")
             return
         self._persist_rosters()
         subprocess.Popen(
             [script, model_path],
             cwd=self._repo_root,
             env=os.environ.copy(),
             start_new_session=True,
         )
         self._emit_status("Запуск игры в терминале.")
 
     @QtCore.Slot()
     def play_in_gui(self) -> None:
         model_path = self._resolve_play_model_path()
         if model_path == "None":
             self._emit_status("Сохранённые модели не найдены. Запускаю базовый режим.")
         script = os.path.join(self._repo_root, "scripts", "viewer.sh")
         if not os.path.exists(script):
             self._emit_status("Не найден scripts/viewer.sh. Проверьте репозиторий.")
             return
         self._persist_rosters()
         env = os.environ.copy()
         env["MODEL_PATH"] = model_path
+        env["FIGHT_REPORT"] = "1"
+        env["PLAY_NO_EXPLORATION"] = "1"
         subprocess.Popen(
             [script],
             cwd=self._repo_root,
             env=env,
             start_new_session=True,
         )
         self._emit_status("Запуск игры в GUI через Viewer.")
 
     @QtCore.Slot()
     def refresh_board_text(self) -> None:
         board_path = os.path.join(self._repo_root, "board.txt")
         self._board_text = self._render_board_ascii(board_path)
         self.boardTextChanged.emit(self._board_text)
 
     def _set_running(self, value: bool) -> None:
         if self._running != value:
             self._running = value
             self.runningChanged.emit(value)
 
     def _set_progress(self, current: int, total: int) -> None:
         if total <= 0:
             self._progress_value = 0.0
             self._progress_text = "0%"
             self._progress_label = f"ep={current}/?"
         else:
 
EOF
)
